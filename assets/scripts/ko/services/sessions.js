define(["knockout","toast","http","/public/plugins/charging-station/assets/scripts/ko/observables/session.js","app/utils/array.find","app/utils/array.map","app/utils/array.filter"],function(ko,toast,http,Session,find,map,filter){var sessions=ko.observableArray([]),util={fetch:function(cb){http.get("/charging-plugin/sessions",function(err,data){return"function"==typeof cb&&cb(data),err?http.catchError(err):(sessions(map(data,function(s){return new Session(s)})),void(util._fetchTimeout=setTimeout(function(){util.fetch()},5e3)))})},get:function(){return sessions},find:function(id){return find(sessions(),function(s){return s.id===id||s.id()===id})},stopSync:function(){util._fetchTimeout&&(clearTimeout(util._fetchTimeout),util._fetchTimeout=null)},pauseSession:function(session){return new Session(session).pauseSession()}};return util});